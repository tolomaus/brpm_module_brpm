###
# target_environment_id:
#   name: Target environment
#   required: yes
#   position: A1:C1
#   type: in-external-single-select
#   external_resource: select_environment
# target_stage:
#   name: Target stage
#   required: no
#   position: A2:C2
# execute_target_request:
#   name: execute_target_request
#   required: yes
#   type: in-list-single
#   list_pairs: 1,No|2,Execute|3,Execute and monitor
#   position: A3:C3
###
params["direct_execute"] = "true"

require "#{ENV["BRPM_CONTENT_HOME"] || "#{ENV["BRPM_HOME"]}/modules"}/gems/brpm_content-#{ENV["BRPM_CONTENT_VERSION"] || "latest"}/modules/framework/brpm_script_executor.rb"

BrpmScriptExecutor.execute_automation_script_from_gem("brpm_module_brpm", "create_request", params)
